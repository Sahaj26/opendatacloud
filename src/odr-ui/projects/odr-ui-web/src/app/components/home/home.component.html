<!-- Copyright (c) Microsoft Corporation.
     Licensed under the MIT License. -->

<section class="typographic-intro">
    <div class="container">
        <h1 class="heading">Stanford AIMI Shared Datasets <span class="badge">Beta</span></h1>

        <form [formGroup]="form" role="form" class="form-horizontal" (ngSubmit)="onSubmit()" novalidate>
            <div class="form-group form-group-lg">
                <div class="input-group input-group-lg">
                    <input type="text" class="form-control" id="mainSearch" placeholder="Search datasets"
                        formControlName="terms">
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="submit">
                            <svg class="icon">
                                <use xlink:href="#icon-search"></use>
                            </svg>
                        </button>
                    </span>
                </div>
                <div *ngIf="formErrors.terms" class="alert alert-danger">
                    {{ formErrors.terms }}
                </div>
            </div>
        </form>

        <!-- <p class="subheading">A collection of de-identified annotated medical imaging data across multiple organizations to foster transparent and reproducible collaborative research.</p> -->
        <p class="subheading">o	A collection of de-identified annotated medical imaging data to foster transparent and reproducible collaborative research.  The Stanford AIMI Center was established to develop, evaluate, and disseminate artificial intelligence systems to benefit patients.  Find out more by visiting <a style="color: white;" href="https://aimi.stanford.edu" target="_blank">the AIMI website</a>.</p>
    </div>
</section>

<section class="container layout-page">
    <header>
        <h2 class="heading">Dataset Categories</h2>
    </header>

    <!-- <app-categories></app-categories> -->

    <div class="layout-twocol comfy spacing-top-sm">
        <div>
            <div class="category">
                <div>
                    <img src="/assets/icons/body.svg" class="icon" height="80" width="80" />
                </div>
                <div>
                    <h3 class="subheading">BODY</h3>
                    <a [routerLink]="" (click)="loadCategory('Body')" aria-label="View dataset"
                        class="call-to-action">
                        <span>VIEW DATASETS</span>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <div class="category">
                <div>
                    <img src="/assets/icons/bone.svg" class="icon" />
                </div>
                <div>
                    <h3 class="subheading">BONE</h3>
                    <a [routerLink]="" (click)="loadCategory('Bone')" aria-label="View dataset"
                        class="call-to-action">
                        <span>VIEW DATASETS</span>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <div class="category">
                <div>
                    <img src="/assets/icons/extremity.svg" class="icon" />
                </div>
                <div>
                    <h3 class="subheading">EXTREMITY</h3>
                    <a [routerLink]="" (click)="loadCategory('Extremity')" aria-label="View dataset"
                        class="call-to-action">
                        <span>VIEW DATASETS</span>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <div class="category">
                <div>
                    <img src="/assets/icons/breast.svg" class="icon" />
                </div>
                <div>
                    <h3 class="subheading">BREAST</h3>
                    <a [routerLink]="" (click)="loadCategory('Breast')" aria-label="View dataset"
                        class="call-to-action">
                        <span>VIEW DATASETS</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <div class="spacing-top-sm">
        <a [routerLink]="['/categories']" aria-label="View all categories" class="call-to-action">
            <span>VIEW ALL CATEGORIES</span>
        </a>
    </div>
</section>

<section class="container layout-page">
    <header>
        <h2 class="heading">Featured Datasets</h2>
    </header>
    <div class="search-results spacing-top-sm">
        <div>
            <div class="search-result" *ngFor="let result of featuredDatasets | async">
                <a role="button" class="dataset-name" (click)="selectResult(result)">
                    <h4>{{result.name}}</h4>
                </a>
                <p class="metatext">{{result.size | filesize}}, {{result.modified | date: 'MMMM yyyy' }}</p>
                <div class="dataset-description block-with-text">
                    {{result.description}}
                </div>

                <div class="layout-twocol">

                    <!-- <div class="row dataset-result-item">
                        <div class="col-md-6">
                            <div class="dataset-owner">
                                <strong>Owner: </strong>{{result.owner}}
                            </div>
                        </div>
                    </div> -->

                    <div class="dataset-info">
                        <div>
                            <span class="dataset-file-types">
                                <strong>File Types: </strong>
                            </span>
                            <span>
                                <span class="label label-default">{{result.fileTypes | comma_delimited}}</span>
                            </span>
                        </div>
                        <div class="dataset-file-license">
                            <strong>License: </strong>{{result.licenseName}}
                        </div>
                    </div>

                    <div class="dataset-info">
                        <div class="dataset-last-mod-date">
                            <strong>Last Modified: </strong>{{result.modified | date: 'shortDate' }}
                        </div>
                        <div class="dataset-file-license" *ngIf="result.domain">
                            <strong>Category: </strong>{{result.domain}}
                        </div>
                    </div>
                </div>

                <a class="call-to-action" (click)="selectResult(result)">SEE MORE</a>

            </div>
        </div>

    </div>

    <div class="spacing-top-sm">
        <a [routerLink]="['/datasets']" aria-label="View all datasets"
            class="call-to-action">
            <span>VIEW ALL DATASETS</span>
        </a>
    </div>
</section>
